# 重要问题

## 父子组件通信

## vuex

## Vue风格

## 生命周期

# 待整理1

提问：1. el如何和div绑定，用的选择器么？

2. 响应式如何做到的，data修改，view也修改了

3. Vdata是什么语法?

# 待整理2

 https://github.com/vuejs/vue-devtools

# 待整理3

```html
    <!-- 不使用react的{{}}写法，同时看似是静态字符串，实则动态绑定了data中的值，有两种写法，可简写 -->
    <!-- 问题：vbind是如何实现的 -->
    <!-- <h2 vbind:title="title"> -->
    <h2 :title="h2Title">
      <!-- 插值语法 -->
      {{title}}
    </h2>
```

# 计算和监听

```js
      // 多个值影响一个值，导致一个最新的数值生成
      // 计算属性还有缓存特性
      computed: {
        coursesLen() {
          // 计算属性有缓存特性，值没有变化，页面不会重新渲染，
          // 如果放到method，每次都会渲染
          return this.courses.length + '门'
        }
      },
      // 界面实际为0，原因是监听器只有在监听到变化才会更新，初始化时未执行
      // watch: {
      //   courses(newValue, oldValue) {
      //     this.coursesLenWatch = newValue.length + '门'
      //   }
      // },
      // 语境差异，一个数值变化，会影响多个值
      // 更加通用的方法，适合异步或者大开销行为
      watch: {
        courses: {
          immediate: true, // 初始化时立即执行
          deep: true, // 深度比较
          handler(newValue, oldValue) {
            this.coursesLenWatch = newValue.length + '门'
          }
        }
      },
```

# 待整理4

```
    <!-- 思考react的列表渲染方法，以及vdom：为什么要用id，key而不是index -->
    <!-- class是对象或者数组 -->
    <!-- @click方法可以放进method中，也可以使用表达式 -->
```

# 待整理5

```html
    <p>
      <!-- 该方法存在问题，中文输入法情况下，输入完中文，英文回车会导致中文直接插入，例如输入“测试button” -->
      <!-- <input v-model="course" type="text" v-on:keydown.enter="addCourse"/> -->
      <!-- 总结vue中keydown，keyup和keypress -->
      <input v-model="course" type="text" v-on:keypress.enter="addCourse" />
      {{course}}
      <!-- 尝试一下三种语法 -->
      <!-- <button v-on:click="addCourse">新增</button> -->
      <button @click="addCourse">新增</button>
    </p>
```

# 待整理7

```html
    <!-- 使用style绑定的方法 -->
    <!-- 与react类似,background-color并不能作为key，需要采用驼峰写法，由vue帮助解析 -->
    <!-- transparent在面试题里常用于画三角形梯形 -->
    <div v-for="c in courses" :key="c" :style="{backgroundColor: selectedCourse2 === c ? '#aaa' : 'transParent'}"
      @click="selectedCourse2 = c">
      <div>{{ c }}</div>
    </div>
    <!-- v-model输入绑定，思考react如何做到 -->
    <!-- 看下@click="handler(arg, event)"的语法是什么 -->
    <!-- .enter是个修饰符，不加enter的话就需要在addCourse的事件中去判断用户按键 -->
```

# $emit

# v-bind和v-on

1. `v-bind`和`v-on`可以简写，分别对应`:`和`@`

# 双向绑定

          root
         /    \
      list   input+btn

```
  <div id="app">
    <h2 :title="h2Title">{{title}}</h2>
    <course-list :courses="courses"></course-list>
    <course-add @add-course="addCourse"></course-add>

    <p>{{courses.length+'门'}}</p>
    <p>{{coursesLen}}</p>
    <p>{{coursesLenWatch}}</p>
  </div>
```

```js
Vue.component('course-add', {
  data() {
    return {
      course: '',
    }
  },
  template: `
		<div>
			<input v-model="course" type="text" v-on:keypress.enter="addCourse" />
			<button @click="addCourse">新增</button>
			{{course}}
		</div>
		`,
  methods: {
    addCourse() {
      this.$emit('add-course', this.course)
      this.course = ''
    }
  },
})
```

没有双向绑定前，root的数据为courses，传递给`course-list`组件显示。

输入框的course数据属于`course-add`组件管理，添加后抛给父组件加入到`courses`中。

## 自定义组件双向绑定

> v-model仅仅是语法糖

[随便找的一篇讲解自定义组件双向绑定语法糖](https://juejin.cn/post/6884209228849807368)

### Slot

1. 上下文slot
2. 具名slot
3. 作用域scope slot
4. Sync

# 组件化

## 使用场景

- 通用组件：实现最基本的功能，具有通用性，复用性，例如按钮组件，输入框组件，布局组件等
- 业务组件：完成具体业务，具有一定的业务性，例如登陆组件，轮播图组件
- 页面组件：组织应用各部分独立内容，需要时在不同页面组件间切换，例如列表页、详情页组件

## 如何使用组件

- 定义：Vue.component(), components选项, sfc
- 分类：有状态组件, functional, abstract
- 通信：props, `$emit()`,`$on()`,provide/inject, `$children`,`$parent`,`$root`,`attrs`,`listeners`
- 内容分发：`<slot>`,`<template>`,v-slot
- 使用及优化：is, keep-alive, 异步组件



